<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
   <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="login">
    <form id="loginform" >
        <label for="loginemail">Email:</label><br></br>
        <input id="loginemail" type="email" name="loginemail" placeholder="Enter Email"  required></input><br></br>
        <label for="loginpassword">Password:</label><br></br>
        <input type="password" id="loginpassword" name="loginpassword" placeholder="Enter Password" required></input><br></br>
        <input type="submit" value="Login">
    </form> 
    </div>

    <div id="reg">
    <form id="registerform">
      <label for="registerusername">Username:</label><br>
      <input type="text" id="registerusername" name="registerusername" required><br>
      <label for="registeremail">Email:</label><br></br>
      <input id="registeremail" type="email" name="registeremail" placeholder="Enter Email"  required></input><br></br>
      <label for="registerpassword">Password:</label><br></br>
      <input type="password" id="registerpassword" name="registerpassword" placeholder="Enter Password" required></input><br></br>
      <input type="submit" value="Register">
    </form>
    </div>
   
</body>


<script>
   const registerform = document.getElementById("registerform");
   registerform.addEventListener("submit", async e => {
      e.preventDefault();
      // let username = document.getElementById("registerusername").value
      // let email = document.getElementById("registeremail").value
      // let password = document.getElementById("registerpassword").value

      let options = {
         method: 'POST',
         body: JSON.stringify(Object.fromEntries(new FormData(e.target))
            // {
            // username: username,
            // email: email,
            // password: password
            // }
         ),
         headers: {
            'Content-Type': 'application/json'
         }
      }
      console.log(options)

      // const result = await fetch('http://localhost:3000/auth/register', options)
      // const data = await result.json()
      // console.log(data)

   })


   const loginform = document.getElementById("loginform");
   loginform.addEventListener("submit", async e => { 
      e.preventDefault();
      let email=document.getElementById("loginemail").value;
      let password=document.getElementById("loginpassword").value;

      let options={
         method: 'POST',
         body:JSON.stringify({
            email:email, 
            password:password
         }), 
         headers:{'Content-Type': 'application/json'
      }}
      
      const result = await fetch('http://localhost:3000/auth/login', options)
      const data = await result.json()
      console.log(data)
   })
</script>

</html>
